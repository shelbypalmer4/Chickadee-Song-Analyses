getwd()
# setwd("C:/Users/Shelby Palmer/Desktop/CHICKADEES/DATA/AllSongsSPPUA")
setwd("/Users/shelbypalmer/Documents/GitHub/Chickadee-Song-Analyses/AllSongsSPPUA")
library(tuneR)
library(seewave)
length(list.files())
# AllSPPUA <- data.frame(file_names = list.files(),
#                        include = rep(NA),
#                        threshold = rep(NA))
# write.csv(AllSPPUA, "C:/Users/Shelby Palmer/Desktop/The House Always Wins/Chickadee-Song-Analyses/SPPUA_Hz_Quality-and-exceptions.csv")
AllSPPUA <- read.csv("SPPUA_Hz_Quality-and-exceptions.csv")
# AllSPPUA <- data.frame(file_names = list.files(),
#                        include = rep(NA),
#                        threshold = rep(NA))
# write.csv(AllSPPUA, "C:/Users/Shelby Palmer/Desktop/The House Always Wins/Chickadee-Song-Analyses/SPPUA_Hz_Quality-and-exceptions.csv")
setwd("/Users/shelbypalmer/Documents/GitHub/Chickadee-Song-Analyses")
AllSPPUA <- read.csv("SPPUA_Hz_Quality-and-exceptions.csv")
# generate spectrograms + timer intervals for signal portion of every chopped recording
cutspec<-function(x) {
a<-readWave(x)
b<-fir(a,
from = 2500,
to = 10000,
bandpass = TRUE,
output="Wave")
c<-normalize(b, unit = c("24"))
d<-timer(c,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
plot=F)
e<-cutw(c,
from = d$s.start[1],
to = d$s.end[length(d$s.end)],
output = "Wave")
spectro(e,
wl = 512,
ovlp = 95,
collevels = seq(-42,0,6),
flim = c(0, 10),
osc = F,
scale = F,
colgrid = "gray",
cexlab = 0.8,
cexaxis = 0.7)
par(new=T)
timer(e,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
main=x)
}
# generate spectrograms + timer intervals for signal portion of every chopped recording
setwd("/Users/shelbypalmer/Documents/GitHub/Chickadee-Song-Analyses/AllSongsSPPUA")
cutspec<-function(x) {
a<-readWave(x)
b<-fir(a,
from = 2500,
to = 10000,
bandpass = TRUE,
output="Wave")
c<-normalize(b, unit = c("24"))
d<-timer(c,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
plot=F)
e<-cutw(c,
from = d$s.start[1],
to = d$s.end[length(d$s.end)],
output = "Wave")
spectro(e,
wl = 512,
ovlp = 95,
collevels = seq(-42,0,6),
flim = c(0, 10),
osc = F,
scale = F,
colgrid = "gray",
cexlab = 0.8,
cexaxis = 0.7)
par(new=T)
timer(e,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
main=x)
}
lapply(list.files(pattern = ".wav"), cutspec)
cutspec<-function(x) {
a<-readWave(x)
b<-fir(a,
from = 2500,
to = 10000,
bandpass = TRUE,
output="Wave")
c<-normalize(b, unit = c("24"))
d<-timer(c,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
plot=F)
e<-cutw(c,
from = d$s.start[1],
to = d$s.end[length(d$s.end)],
output = "Wave")
spectro(e,
wl = 512,
ovlp = 95,
collevels = seq(-42,0,6),
flim = c(0, 10),
osc = F,
scale = F,
colgrid = "gray",
cexlab = 0.8,
cexaxis = 0.7)
par(new=T)
try(timer(e,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
main=x))
}
lapply(list.files(pattern = ".wav"), cutspec)
cutspec<-function(x) {
a<-readWave(x)
b<-fir(a,
from = 2500,
to = 10000,
bandpass = TRUE,
output="Wave")
c<-normalize(b, unit = c("24"))
try(c<-timer(c,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
plot=F))
e<-cutw(c,
from = d$s.start[1],
to = d$s.end[length(d$s.end)],
output = "Wave")
spectro(e,
wl = 512,
ovlp = 95,
collevels = seq(-42,0,6),
flim = c(0, 10),
osc = F,
scale = F,
colgrid = "gray",
cexlab = 0.8,
cexaxis = 0.7)
par(new=T)
try(timer(e,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
main=x))
}
lapply(list.files(pattern = ".wav"), cutspec)
cutspec<-function(x) {
a<-readWave(x)
b<-fir(a,
from = 2500,
to = 10000,
bandpass = TRUE,
output="Wave")
c<-normalize(b, unit = c("24"))
spectro(c,
wl = 512,
ovlp = 95,
collevels = seq(-42,0,6),
flim = c(0, 10),
osc = F,
scale = F,
colgrid = "gray",
cexlab = 0.8,
cexaxis = 0.7)
par(new=T)
try(timer(e,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
main=x))
}
lapply(list.files(pattern = ".wav"), cutspec)
cutspec<-function(x) {
a<-readWave(x)
b<-fir(a,
from = 2500,
to = 10000,
bandpass = TRUE,
output="Wave")
c<-normalize(b, unit = c("24"))
spectro(c,
wl = 512,
ovlp = 95,
collevels = seq(-42,0,6),
flim = c(0, 10),
osc = F,
scale = F,
colgrid = "gray",
cexlab = 0.8,
cexaxis = 0.7)
par(new=T)
try(timer(c,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
main=x))
}
lapply(list.files(pattern = ".wav"), cutspec)
cutspec<-function(x) {
a<-readWave(x)
b<-fir(a,
from = 2500,
to = 10000,
bandpass = TRUE,
output="Wave")
c<-normalize(b, unit = c("24"))
png(filename = paste("cut_spec/", x, ".png", sep = ""))
spectro(c,
wl = 512,
ovlp = 95,
collevels = seq(-42,0,6),
flim = c(0, 10),
osc = F,
scale = F,
colgrid = "gray",
cexlab = 0.8,
cexaxis = 0.7)
par(new=T)
try(timer(c,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
main=x))
}
lapply(list.files(pattern = ".wav"), cutspec)
cutspec<-function(x) {
a<-readWave(x)
b<-fir(a,
from = 2500,
to = 10000,
bandpass = TRUE,
output="Wave")
c<-normalize(b, unit = c("24"))
png(filename = paste("cut_spec/", x, ".png", sep = ""))
spectro(c,
wl = 512,
ovlp = 95,
collevels = seq(-42,0,6),
flim = c(0, 10),
osc = F,
scale = F,
colgrid = "gray",
cexlab = 0.8,
cexaxis = 0.7)
par(new=T)
try(timer(c,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10,
main=x))
dev.off()
}
lapply(list.files(pattern = ".wav"), cutspec)
cutspec<-function(x) {
a<-readWave(x)
b<-fir(a,
from = 2500,
to = 10000,
bandpass = TRUE,
output="Wave")
c<-normalize(b, unit = c("24"))
png(filename = paste("cut_spec/", x, ".png", sep = ""))
spectro(c,
wl = 512,
ovlp = 95,
collevels = seq(-42,0,6),
flim = c(0, 10),
osc = F,
scale = F,
colgrid = "gray",
cexlab = 0.8,
cexaxis = 0.7)
par(new=T)
try(timer(c,
dmin = 0.05,
envt = "hil",
msmooth=c(512, 90),
threshold = 10))
dev.off()
}
dev.off()
dev.off()
dev.off()
